{"mappings":"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","sources":["<anon>","woocommerce/payment-gateway/assets/js/frontend/sv-wc-payment-gateway-my-payment-methods.coffee"],"sourcesContent":["(() => {\nvar $f921149b16c1f5f9$exports = {};\n(function() {\n    /*\n   WooCommerce SkyVerge Payment Gateway My Payment Methods CoffeeScript\n   Version 5.1.0\n\n   Copyright (c) 2014-2024, SkyVerge, Inc.\n   Licensed under the GNU General Public License v3.0\n   http://www.gnu.org/licenses/gpl-3.0.html\n  */ jQuery(function($) {\n        \"use strict\";\n        // The My Payment Methods handler.\n        // @since 5.1.0\n        window.SV_WC_Payment_Methods_Handler_v5_15_12 = class SV_WC_Payment_Methods_Handler_v5_15_12 {\n            // Constructs the class.\n            // @since 5.1.0\n            // @param [Object] args, with the properties:\n            //     id:         [String] plugin ID\n            //     slug:       [String] plugin slug or dasherized ID\n            //     i18n:       [Object] localized text strings\n            //     ajax_url:   [String] URL for AJAX requests\n            //     ajax_nonce: [String] nonce for AJAX requests\n            constructor(args){\n                // Replace Method column content with Title column content, for FW tokens.\n                // @since 5.8.0\n                this.replace_method_column = this.replace_method_column.bind(this);\n                // Removes duplicate \"Default\" marks.\n                // They are already hidden using CSS, but should also be removed for accessibility.\n                // @since 5.8.0\n                this.remove_duplicate_default_marks = this.remove_duplicate_default_marks.bind(this);\n                // Edits a payment method.\n                // @since 5.1.0\n                // @param [Object] event jQuery event object\n                this.edit_method = this.edit_method.bind(this);\n                // Saves a payment method.\n                // @since 5.1.0\n                // @param [Object] event jQuery event object\n                this.save_method = this.save_method.bind(this);\n                // Cancels/stop editing a payment method.\n                // @since 5.1.0\n                // @param [Object] event jQuery event object\n                this.cancel_edit = this.cancel_edit.bind(this);\n                this.id = args.id;\n                this.slug = args.slug;\n                this.i18n = args.i18n;\n                this.ajax_url = args.ajax_url;\n                this.ajax_nonce = args.ajax_nonce;\n                // replace the \"Method\" column content for FW tokens\n                this.replace_method_column();\n                // remove duplicate \"Default\" marks\n                this.remove_duplicate_default_marks();\n                // handle the edit action\n                $(\".woocommerce-MyAccount-paymentMethods\").on('click', \".woocommerce-PaymentMethod--actions .button.edit\", (event1)=>{\n                    return this.edit_method(event1);\n                });\n                // handle the save action\n                $(\".woocommerce-MyAccount-paymentMethods\").on('click', \".woocommerce-PaymentMethod--actions .button.save\", (event1)=>{\n                    return this.save_method(event1);\n                });\n                // handle the cancel action\n                $(\".woocommerce-MyAccount-paymentMethods\").on('click', \".woocommerce-PaymentMethod--actions .cancel-edit\", (event1)=>{\n                    return this.cancel_edit(event1);\n                });\n                // handle the delete action\n                $(\".woocommerce-MyAccount-paymentMethods\").on('click', \".woocommerce-PaymentMethod--actions .button.delete\", (event1)=>{\n                    var button, row;\n                    button = $(event1.currentTarget);\n                    row = button.parents('tr');\n                    // check if the method belongs to this plugin\n                    if (row.find(`input[name=plugin-id][value=${this.slug}]`).length === 0) return;\n                    if (!confirm(this.i18n.delete_ays)) {\n                        // re-enable the button if user cancels (side note: WooCommerce core is the one that added the disabled state in the first place)\n                        button.prop('disabled', false).removeClass('disabled');\n                        return event1.preventDefault();\n                    }\n                });\n                // don't follow the Add Payment Method button URL if it's disabled\n                $('.button[href*=\"add-payment-method\"]').on('click', event(function() {\n                    if ($(this).hasClass('disabled')) return event.preventDefault();\n                }));\n            }\n            replace_method_column() {\n                return $('.woocommerce-MyAccount-paymentMethods').find('tr').each((index, element)=>{\n                    var titleColumn;\n                    // check if the method belongs to this plugin\n                    if ($(element).find(`input[name=plugin-id][value=${this.slug}]`).length === 0) return;\n                    // delete the Title header\n                    $(element).find('th.woocommerce-PaymentMethod--title').remove();\n                    titleColumn = $(element).find('td.woocommerce-PaymentMethod--title');\n                    // Title column is not empty, this is a FW token\n                    if (titleColumn.children().length > 0) // replace Method column\n                    $(element).find('td.woocommerce-PaymentMethod--method').html(titleColumn.html());\n                    // delete Title column\n                    return $(element).find('td.woocommerce-PaymentMethod--title').remove();\n                });\n            }\n            remove_duplicate_default_marks() {\n                return $('.woocommerce-MyAccount-paymentMethods').find('tr').each((index, element)=>{\n                    return $(element).find('td.woocommerce-PaymentMethod--default').find('mark.default:not(:first-child)').remove();\n                });\n            }\n            edit_method(event1) {\n                var button, row;\n                event1.preventDefault();\n                button = $(event1.currentTarget);\n                row = button.parents('tr');\n                // check if the method belongs to this plugin\n                if (row.find(`input[name=plugin-id][value=${this.slug}]`).length === 0) return;\n                row.find('div.view').hide();\n                row.find('div.edit').show();\n                row.addClass('editing');\n                // change the Edit button to \"Cancel\"\n                button.text(this.i18n.cancel_button).removeClass('edit').addClass('cancel-edit').removeClass('button');\n                return this.enable_editing_ui();\n            }\n            save_method(event1) {\n                var button, data, row;\n                event1.preventDefault();\n                button = $(event1.currentTarget);\n                row = button.parents('tr');\n                // check if the method belongs to this plugin\n                if (row.find(`input[name=plugin-id][value=${this.slug}]`).length === 0) return;\n                this.block_ui();\n                // remove any previous errors\n                row.next('.error').remove();\n                data = {\n                    action: `wc_${this.id}_save_payment_method`,\n                    nonce: this.ajax_nonce,\n                    token_id: row.find('input[name=token-id]').val(),\n                    data: row.find('input[name]').serialize()\n                };\n                return $.post(this.ajax_url, data).done((response)=>{\n                    if (!response.success) return this.display_error(row, response.data);\n                    if (response.data.title != null) row.find('.woocommerce-PaymentMethod--method').html(response.data.title);\n                    if (response.data.nonce != null) this.ajax_nonce = response.data.nonce;\n                    // change the \"Cancel\" button back to \"Edit\"\n                    button.siblings('.cancel-edit').removeClass('cancel-edit').addClass('edit').text(this.i18n.edit_button).addClass('button');\n                    row.removeClass('editing');\n                    return this.disable_editing_ui();\n                }).fail((jqXHR, textStatus, error)=>{\n                    return this.display_error(row, error);\n                }).always(()=>{\n                    return this.unblock_ui();\n                });\n            }\n            cancel_edit(event1) {\n                var button, row;\n                event1.preventDefault();\n                button = $(event1.currentTarget);\n                row = button.parents('tr');\n                // check if the method belongs to this plugin\n                if (row.find(`input[name=plugin-id][value=${this.slug}]`).length === 0) return;\n                row.find('div.view').show();\n                row.find('div.edit').hide();\n                row.removeClass('editing');\n                // change the \"Cancel\" button back to \"Edit\"\n                button.removeClass('cancel-edit').addClass('edit').text(this.i18n.edit_button).addClass('button');\n                return this.disable_editing_ui();\n            }\n            // Sets the page UI to the \"editing\" state.\n            // This brings proper focus to the method being edited and prevents\n            // other available buttons/actions until the editing is finished or cancelled.\n            // @since 5.1.1\n            enable_editing_ui() {\n                // set the methods table as 'editing'\n                $(\".woocommerce-MyAccount-paymentMethods\").addClass('editing');\n                // disable the Add Payment Method button\n                return $('.button[href*=\"add-payment-method\"]').addClass('disabled');\n            }\n            // Sets the page UI back to the default state.\n            // @since 5.1.1\n            disable_editing_ui() {\n                // removes the methods table's \"editing\" status\n                $(\".woocommerce-MyAccount-paymentMethods\").removeClass('editing');\n                // re-enable the Add Payment Method button\n                return $('.button[href*=\"add-payment-method\"]').removeClass('disabled');\n            }\n            // Blocks the payment methods table UI.\n            // @since 5.1.0\n            block_ui() {\n                return $(\".woocommerce-MyAccount-paymentMethods\").parent('div').block({\n                    message: null,\n                    overlayCSS: {\n                        background: '#fff',\n                        opacity: 0.6\n                    }\n                });\n            }\n            // Unblocks the payment methods table UI.\n            // @since 5.1.0\n            unblock_ui() {\n                return $(\".woocommerce-MyAccount-paymentMethods\").parent('div').unblock();\n            }\n            // Displays an error message to the user.\n            // @since 5.1.0\n            // @param [Object] row payment method table row\n            // @param [String] error raw error message\n            // @param [String] message user error message\n            display_error(row, error, message = '') {\n                var columns;\n                console.error(error);\n                if (!message) message = this.i18n.save_error;\n                columns = $(\".woocommerce-MyAccount-paymentMethods thead tr th\").length;\n                return $('<tr class=\"error\"><td colspan=\"' + columns + '\">' + message + '</td></tr>').insertAfter(row).find('td').delay(8000).slideUp(200);\n            }\n        };\n        // dispatch loaded event\n        return $(document.body).trigger('sv_wc_payment_methods_handler_v5_15_12_loaded');\n    });\n}).call($f921149b16c1f5f9$exports);\n\n})();\n//# sourceMappingURL=sv-wc-payment-gateway-my-payment-methods.js.map\n","###\n WooCommerce SkyVerge Payment Gateway My Payment Methods CoffeeScript\n Version 5.1.0\n\n Copyright (c) 2014-2024, SkyVerge, Inc.\n Licensed under the GNU General Public License v3.0\n http://www.gnu.org/licenses/gpl-3.0.html\n###\njQuery ( $ ) ->\n\t\"use strict\"\n\n\t# The My Payment Methods handler.\n\t#\n\t# @since 5.1.0\n\tclass window.SV_WC_Payment_Methods_Handler_v5_15_12\n\n\n\t\t# Constructs the class.\n\t\t#\n\t\t# @since 5.1.0\n\t\t#\n\t\t# @param [Object] args, with the properties:\n\t\t#     id:         [String] plugin ID\n\t\t#     slug:       [String] plugin slug or dasherized ID\n\t\t#     i18n:       [Object] localized text strings\n\t\t#     ajax_url:   [String] URL for AJAX requests\n\t\t#     ajax_nonce: [String] nonce for AJAX requests\n\t\tconstructor: ( args ) ->\n\n\t\t\t@id         = args.id\n\t\t\t@slug       = args.slug\n\t\t\t@i18n       = args.i18n\n\t\t\t@ajax_url   = args.ajax_url\n\t\t\t@ajax_nonce = args.ajax_nonce\n\n\t\t\t# replace the \"Method\" column content for FW tokens\n\t\t\tthis.replace_method_column()\n\n\t\t\t# remove duplicate \"Default\" marks\n\t\t\tthis.remove_duplicate_default_marks()\n\n\t\t\t# handle the edit action\n\t\t\t$( \".woocommerce-MyAccount-paymentMethods\" ).on( 'click', \".woocommerce-PaymentMethod--actions .button.edit\", ( event ) => this.edit_method( event ) )\n\n\t\t\t# handle the save action\n\t\t\t$( \".woocommerce-MyAccount-paymentMethods\" ).on( 'click', \".woocommerce-PaymentMethod--actions .button.save\", ( event ) => this.save_method( event ) )\n\n\t\t\t# handle the cancel action\n\t\t\t$( \".woocommerce-MyAccount-paymentMethods\" ).on( 'click', \".woocommerce-PaymentMethod--actions .cancel-edit\", ( event ) => this.cancel_edit( event ) )\n\n\t\t\t# handle the delete action\n\t\t\t$( \".woocommerce-MyAccount-paymentMethods\" ).on( 'click', \".woocommerce-PaymentMethod--actions .button.delete\", ( event ) =>\n\n\t\t\t\tbutton = $( event.currentTarget )\n\t\t\t\trow    = button.parents( 'tr' )\n\n\t\t\t\t# check if the method belongs to this plugin\n\t\t\t\tif row.find( \"input[name=plugin-id][value=#{@slug}]\" ).length is 0\n\t\t\t\t\treturn\n\n\t\t\t\tif not confirm( @i18n.delete_ays )\n\t\t\t\t\t# re-enable the button if user cancels (side note: WooCommerce core is the one that added the disabled state in the first place)\n\t\t\t\t\tbutton.prop( 'disabled', false ).removeClass( 'disabled' )\n\t\t\t\t\tevent.preventDefault()\n\n\t\t\t)\n\n\t\t\t# don't follow the Add Payment Method button URL if it's disabled\n\t\t\t$( '.button[href*=\"add-payment-method\"]' ).on 'click', event ->\n\t\t\t\tevent.preventDefault() if $( this ).hasClass( 'disabled' )\n\n\n\t\t# Replace Method column content with Title column content, for FW tokens.\n\t\t#\n\t\t# @since 5.8.0\n\t\treplace_method_column: =>\n\n\t\t\t$( '.woocommerce-MyAccount-paymentMethods' ).find( 'tr' ).each ( index, element ) =>\n\n\t\t\t\t# check if the method belongs to this plugin\n\t\t\t\tif $( element ).find( \"input[name=plugin-id][value=#{@slug}]\" ).length is 0\n\t\t\t\t\treturn\n\n\t\t\t\t# delete the Title header\n\t\t\t\t$( element ).find( 'th.woocommerce-PaymentMethod--title' ).remove()\n\n\t\t\t\ttitleColumn = $( element ).find( 'td.woocommerce-PaymentMethod--title' )\n\n\t\t\t\t# Title column is not empty, this is a FW token\n\t\t\t\tif ( titleColumn.children().length > 0 )\n\n\t\t\t\t\t# replace Method column\n\t\t\t\t\t$( element ).find( 'td.woocommerce-PaymentMethod--method' ).html( titleColumn.html() )\n\n\t\t\t\t# delete Title column\n\t\t\t\t$( element ).find( 'td.woocommerce-PaymentMethod--title' ).remove()\n\n\n\t\t# Removes duplicate \"Default\" marks.\n\t\t#\n\t\t# They are already hidden using CSS, but should also be removed for accessibility.\n\t\t#\n\t\t# @since 5.8.0\n\t\tremove_duplicate_default_marks: =>\n\n\t\t\t$( '.woocommerce-MyAccount-paymentMethods' ).find( 'tr' ).each ( index, element ) =>\n\n\t\t\t\t$( element ).find( 'td.woocommerce-PaymentMethod--default' ).find( 'mark.default:not(:first-child)' ).remove()\n\n\n\t\t# Edits a payment method.\n\t\t#\n\t\t# @since 5.1.0\n\t\t#\n\t\t# @param [Object] event jQuery event object\n\t\tedit_method: ( event ) =>\n\n\t\t\tevent.preventDefault()\n\n\t\t\tbutton = $( event.currentTarget )\n\t\t\trow    = button.parents( 'tr' )\n\n\t\t\t# check if the method belongs to this plugin\n\t\t\tif row.find( \"input[name=plugin-id][value=#{@slug}]\" ).length is 0\n\t\t\t\treturn\n\n\t\t\trow.find( 'div.view' ).hide()\n\t\t\trow.find( 'div.edit' ).show()\n\t\t\trow.addClass( 'editing' )\n\n\t\t\t# change the Edit button to \"Cancel\"\n\t\t\tbutton.text( @i18n.cancel_button ).removeClass( 'edit' ).addClass( 'cancel-edit' ).removeClass( 'button' )\n\n\t\t\tthis.enable_editing_ui()\n\n\n\t\t# Saves a payment method.\n\t\t#\n\t\t# @since 5.1.0\n\t\t#\n\t\t# @param [Object] event jQuery event object\n\t\tsave_method: ( event ) =>\n\n\t\t\tevent.preventDefault()\n\n\t\t\tbutton = $( event.currentTarget )\n\t\t\trow    = button.parents( 'tr' )\n\n\t\t\t# check if the method belongs to this plugin\n\t\t\tif row.find( \"input[name=plugin-id][value=#{@slug}]\" ).length is 0\n\t\t\t\treturn\n\n\t\t\tthis.block_ui()\n\n\t\t\t# remove any previous errors\n\t\t\trow.next( '.error' ).remove()\n\n\t\t\tdata =\n\t\t\t\taction:   \"wc_#{@id}_save_payment_method\"\n\t\t\t\tnonce:    @ajax_nonce\n\t\t\t\ttoken_id: row.find( 'input[name=token-id]' ).val()\n\t\t\t\tdata:     row.find( 'input[name]' ).serialize()\n\n\t\t\t$.post( @ajax_url, data )\n\n\t\t\t\t.done ( response ) =>\n\n\t\t\t\t\treturn this.display_error( row, response.data ) unless response.success\n\n\t\t\t\t\tif response.data.title?\n\t\t\t\t\t\trow.find('.woocommerce-PaymentMethod--method').html( response.data.title )\n\n\t\t\t\t\tif response.data.nonce?\n\t\t\t\t\t\t@ajax_nonce = response.data.nonce\n\n\t\t\t\t\t# change the \"Cancel\" button back to \"Edit\"\n\t\t\t\t\tbutton.siblings( '.cancel-edit' ).removeClass( 'cancel-edit' ).addClass( 'edit' ).text( @i18n.edit_button ).addClass( 'button' )\n\n\t\t\t\t\trow.removeClass( 'editing' )\n\n\t\t\t\t\tthis.disable_editing_ui()\n\n\t\t\t\t.fail ( jqXHR, textStatus, error ) =>\n\n\t\t\t\t\tthis.display_error( row, error )\n\n\t\t\t\t.always =>\n\n\t\t\t\t\tthis.unblock_ui()\n\n\n\t\t# Cancels/stop editing a payment method.\n\t\t#\n\t\t# @since 5.1.0\n\t\t#\n\t\t# @param [Object] event jQuery event object\n\t\tcancel_edit: ( event ) =>\n\n\t\t\tevent.preventDefault()\n\n\t\t\tbutton = $( event.currentTarget )\n\t\t\trow    = button.parents( 'tr' )\n\n\t\t\t# check if the method belongs to this plugin\n\t\t\tif row.find( \"input[name=plugin-id][value=#{@slug}]\" ).length is 0\n\t\t\t\treturn\n\n\t\t\trow.find( 'div.view' ).show()\n\t\t\trow.find( 'div.edit' ).hide()\n\t\t\trow.removeClass( 'editing' )\n\n\t\t\t# change the \"Cancel\" button back to \"Edit\"\n\t\t\tbutton.removeClass( 'cancel-edit' ).addClass( 'edit' ).text( @i18n.edit_button ).addClass( 'button' )\n\n\t\t\tthis.disable_editing_ui()\n\n\n\t\t# Sets the page UI to the \"editing\" state.\n\t\t#\n\t\t# This brings proper focus to the method being edited and prevents\n\t\t# other available buttons/actions until the editing is finished or cancelled.\n\t\t#\n\t\t# @since 5.1.1\n\t\tenable_editing_ui: ->\n\n\t\t\t# set the methods table as 'editing'\n\t\t\t$( \".woocommerce-MyAccount-paymentMethods\" ).addClass( 'editing' )\n\n\t\t\t# disable the Add Payment Method button\n\t\t\t$( '.button[href*=\"add-payment-method\"]' ).addClass( 'disabled' )\n\n\n\t\t# Sets the page UI back to the default state.\n\t\t#\n\t\t# @since 5.1.1\n\t\tdisable_editing_ui: ->\n\n\t\t\t# removes the methods table's \"editing\" status\n\t\t\t$( \".woocommerce-MyAccount-paymentMethods\" ).removeClass( 'editing' )\n\n\t\t\t# re-enable the Add Payment Method button\n\t\t\t$( '.button[href*=\"add-payment-method\"]' ).removeClass( 'disabled' )\n\n\n\t\t# Blocks the payment methods table UI.\n\t\t#\n\t\t# @since 5.1.0\n\t\tblock_ui: -> $( \".woocommerce-MyAccount-paymentMethods\" ).parent( 'div' ).block( message: null, overlayCSS: background: '#fff', opacity: 0.6 )\n\n\n\t\t# Unblocks the payment methods table UI.\n\t\t#\n\t\t# @since 5.1.0\n\t\tunblock_ui: -> $( \".woocommerce-MyAccount-paymentMethods\" ).parent( 'div' ).unblock()\n\n\n\t\t# Displays an error message to the user.\n\t\t#\n\t\t# @since 5.1.0\n\t\t#\n\t\t# @param [Object] row payment method table row\n\t\t# @param [String] error raw error message\n\t\t# @param [String] message user error message\n\t\tdisplay_error: ( row, error, message = '' ) ->\n\n\t\t\tconsole.error( error )\n\n\t\t\tmessage = @i18n.save_error unless message\n\t\t\tcolumns = $( \".woocommerce-MyAccount-paymentMethods thead tr th\" ).length\n\n\t\t\t$( '<tr class=\"error\"><td colspan=\"' + columns + '\">' + message + '</td></tr>' ).insertAfter( row ).find( 'td' ).delay( 8000 ).slideUp( 200 )\n\n\n\t# dispatch loaded event\n\t$( document.body ).trigger( 'sv_wc_payment_methods_handler_v5_15_12_loaded' )\n"],"names":["jQuery","$","window","SV_WC_Payment_Methods_Handler_v5_15_12","constructor","args","replace_method_column","bind","remove_duplicate_default_marks","edit_method","save_method","cancel_edit","id","slug","i18n","ajax_url","ajax_nonce","on","event1","button","row","currentTarget","parents","find","length","confirm","delete_ays","prop","removeClass","preventDefault","event","hasClass","each","index","element","titleColumn","remove","children","html","hide","show","addClass","text","cancel_button","enable_editing_ui","data","block_ui","next","action","nonce","token_id","val","serialize","post","done","response","success","title","siblings","edit_button","disable_editing_ui","display_error","fail","jqXHR","textStatus","error","always","unblock_ui","parent","block","message","overlayCSS","background","opacity","unblock","columns","console","save_error","insertAfter","delay","slideUp","document","body","trigger","call"],"version":3,"file":"sv-wc-payment-gateway-my-payment-methods.js.map"}