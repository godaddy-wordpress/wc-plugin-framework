{"mappings":"A,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,E,E,E,O,C,I,W,O,C,GCAA,SAAS,EAAkB,CAAQ,CAAE,CAAW,EAC5C,GAAI,CAAE,CAAA,aAAoB,CAAA,EAAc,MAAM,AAAI,UAAU,oCAChE,C,G,E,Q,S,C,C,C,ECFA,SAAS,EAAkB,CAAM,CAAE,CAAK,EACpC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,MAAM,CAAE,IAAK,CACnC,IAAI,EAAa,CAAK,CAAC,EAAE,AACzB,CAAA,EAAW,UAAU,CAAG,EAAW,UAAU,EAAI,CAAA,EACjD,EAAW,YAAY,CAAG,CAAA,EAEtB,UAAW,GAAY,CAAA,EAAW,QAAQ,CAAG,CAAA,CAAjD,EAEA,OAAO,cAAc,CAAC,EAAQ,EAAW,GAAG,CAAE,EAClD,CACJ,CACA,SAAS,EAAc,CAAW,CAAE,CAAU,CAAE,CAAW,EAIvD,OAHI,GAAY,EAAkB,EAAY,SAAS,CAAE,GACrD,GAAa,EAAkB,EAAa,GAEzC,CACX,C,E,E,O,C,I,W,O,C,E,G,I,E,E,S,E,E,SCTG,AAAA,CAAA,WAEH,OAAO,SAAE,CAAF,EAibN,OA1aM,OAAO,+BAAA,CAAb,WAAA,SAAA,EAMe,CAAD,EANd,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAA,IAAA,CAAA,GA0FC,IAAA,CAAA,iBAAA,CAAA,IAAA,CAAA,iBAAA,CAAA,IAAA,CAAA,IAAA,EAQA,IAAA,CAAA,cAAA,CAAA,IAAA,CAAA,cAAA,CAAA,IAAA,CAAA,IAAA,EAaA,IAAA,CAAA,kBAAA,CAAA,IAAA,CAAA,kBAAA,CAAA,IAAA,C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","sources":["<anon>","node_modules/@swc/helpers/esm/_class_call_check.js","node_modules/@swc/helpers/esm/_create_class.js","woocommerce/payment-gateway/assets/js/frontend/sv-wc-payment-gateway-apple-pay.coffee"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire94c2\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire94c2\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"guLUH\", function(module, exports) {\n\n$parcel$export(module.exports, \"_\", function () { return $c0249d4a3fc9bb83$export$71511d61b312f219; });\nfunction $c0249d4a3fc9bb83$export$71511d61b312f219(instance, Constructor) {\n    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n}\n\n});\n\nparcelRegister(\"90XvN\", function(module, exports) {\n\n$parcel$export(module.exports, \"_\", function () { return $690246f0b6925227$export$71511d61b312f219; });\nfunction $690246f0b6925227$var$_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction $690246f0b6925227$export$71511d61b312f219(Constructor, protoProps, staticProps) {\n    if (protoProps) $690246f0b6925227$var$_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) $690246f0b6925227$var$_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\n\n});\n\n\nvar $guLUH = parcelRequire(\"guLUH\");\n\nvar $90XvN = parcelRequire(\"90XvN\");\n(function() {\n    /*\n   WooCommerce Apple Pay Handler\n   Version 4.7.0\n\n   Copyright (c) 2016, SkyVerge, Inc.\n   Licensed under the GNU General Public License v3.0\n   http://www.gnu.org/licenses/gpl-3.0.html\n  */ jQuery(function($) {\n        \"use strict\";\n        // The WooCommerce Apple Pay handler base class.\n        // @since 4.7.0\n        window.SV_WC_Apple_Pay_Handler_v5_15_9 = /*#__PURE__*/ function() {\n            function SV_WC_Apple_Pay_Handler_v5_15_9(args) {\n                (0, $guLUH._)(this, SV_WC_Apple_Pay_Handler_v5_15_9);\n                // Initializes the product page.\n                // @since 5.6.0\n                this.init_product_page = this.init_product_page.bind(this);\n                // Initializes the cart page.\n                // @since 5.6.0\n                this.init_cart_page = this.init_cart_page.bind(this);\n                // Initializes the checkout page.\n                // @since 5.6.0\n                this.init_checkout_page = this.init_checkout_page.bind(this);\n                // The callback for after the merchant data is validated.\n                // @since 4.7.0\n                this.on_validate_merchant = this.on_validate_merchant.bind(this);\n                // Validates the merchant data.\n                // @since 4.7.0\n                // @return object\n                this.validate_merchant = this.validate_merchant.bind(this);\n                // Fires after a payment method has been selected.\n                // @since 4.7.0\n                this.on_payment_method_selected = this.on_payment_method_selected.bind(this);\n                // Fires after a shipping contact has been selected.\n                // @since 4.7.0\n                this.on_shipping_contact_selected = this.on_shipping_contact_selected.bind(this);\n                // Fires after a shipping method has been selected.\n                // @since 4.7.0\n                this.on_shipping_method_selected = this.on_shipping_method_selected.bind(this);\n                // The callback for after the payment data is authorized.\n                // @since 4.7.0\n                this.on_payment_authorized = this.on_payment_authorized.bind(this);\n                // Processes the transaction data.\n                // @since 4.7.0\n                this.process_authorization = this.process_authorization.bind(this);\n                // The callback for when the payment card is cancelled/dismissed.\n                // @since 4.7.0\n                this.on_cancel_payment = this.on_cancel_payment.bind(this);\n                // Resets the payment request via AJAX.\n                // Extending handlers can call this on change events to refresh the data.\n                // @since 4.7.0\n                this.reset_payment_request = this.reset_payment_request.bind(this);\n                // Gets the payment request via AJAX.\n                // @since 4.7.0\n                this.get_payment_request = this.get_payment_request.bind(this);\n                this.gateway_id = args.gateway_id;\n                this.gateway_slug = args.gateway_slug;\n                this.merchant_id = args.merchant_id;\n                this.ajax_url = args.ajax_url;\n                this.validate_nonce = args.validate_nonce;\n                this.recalculate_totals_nonce = args.recalculate_totals_nonce;\n                this.process_nonce = args.process_nonce;\n                this.payment_request = args.payment_request;\n                this.generic_error = args.generic_error;\n                this.wrapper = '.sv-wc-external-checkout';\n                this.container = '.buttons-container';\n                this.button = '.sv-wc-apple-pay-button';\n            }\n            (0, $90XvN._)(SV_WC_Apple_Pay_Handler_v5_15_9, [\n                {\n                    // Determines if Apple Pay is available.\n                    // @since 4.7.0\n                    // @return bool\n                    key: \"is_available\",\n                    value: function is_available() {\n                        if (!window.ApplePaySession) return false;\n                        return ApplePaySession.canMakePaymentsWithActiveCard(this.merchant_id).then(function(canMakePayments) {\n                            return canMakePayments;\n                        });\n                    }\n                },\n                {\n                    // Initializes the handler.\n                    // @since 4.7.0\n                    key: \"init\",\n                    value: function init() {\n                        var _this = this;\n                        // hide the wrapper if Apple Pay is the only button\n                        if ($(this.container).children().length === 1) $(this.wrapper).hide();\n                        if (!this.is_available()) return;\n                        // initialize for the various pages\n                        if ($('form.cart').length) this.init_product_page();\n                        else if ($('form.woocommerce-cart-form').length) this.init_cart_page();\n                        else if ($('form.woocommerce-checkout').length) this.init_checkout_page();\n                        // bail if no UI was initialized\n                        if (!this.ui_element) return;\n                        if (this.payment_request) {\n                            $(this.button).show();\n                            $(this.wrapper).show();\n                        }\n                        return $(document.body).on('click', '.sv-wc-apple-pay-button', function(e) {\n                            var error;\n                            e.preventDefault();\n                            _this.block_ui();\n                            try {\n                                _this.session = _this.get_new_session(_this.payment_request);\n                                // set the payment card events\n                                _this.session.onvalidatemerchant = function(event) {\n                                    return _this.on_validate_merchant(event);\n                                };\n                                _this.session.onpaymentmethodselected = function(event) {\n                                    return _this.on_payment_method_selected(event);\n                                };\n                                _this.session.onshippingcontactselected = function(event) {\n                                    return _this.on_shipping_contact_selected(event);\n                                };\n                                _this.session.onshippingmethodselected = function(event) {\n                                    return _this.on_shipping_method_selected(event);\n                                };\n                                _this.session.onpaymentauthorized = function(event) {\n                                    return _this.on_payment_authorized(event);\n                                };\n                                _this.session.oncancel = function(event) {\n                                    return _this.on_cancel_payment(event);\n                                };\n                                return _this.session.begin();\n                            } catch (error1) {\n                                error = error1;\n                                return _this.fail_payment(error);\n                            }\n                        });\n                    }\n                },\n                {\n                    key: \"init_product_page\",\n                    value: function init_product_page() {\n                        return this.ui_element = $('form.cart');\n                    }\n                },\n                {\n                    key: \"init_cart_page\",\n                    value: function init_cart_page() {\n                        var _this = this;\n                        this.ui_element = $('form.woocommerce-cart-form').parents('div.woocommerce');\n                        // re-init if the cart totals are updated\n                        return $(document.body).on('updated_cart_totals', function() {\n                            return _this.reset_payment_request();\n                        });\n                    }\n                },\n                {\n                    key: \"init_checkout_page\",\n                    value: function init_checkout_page() {\n                        var _this = this;\n                        this.ui_element = $('form.woocommerce-checkout');\n                        return $(document.body).on('updated_checkout', function() {\n                            // re-init if the checkout is updated\n                            return _this.reset_payment_request();\n                        });\n                    }\n                },\n                {\n                    // Gets a new Apple Pay session.\n                    // @since 5.6.0\n                    // @param [Object] payment_request payment request object\n                    // @return ApplePaySession\n                    key: \"get_new_session\",\n                    value: function get_new_session(payment_request) {\n                        return new ApplePaySession(this.get_sdk_version(), payment_request);\n                    }\n                },\n                {\n                    // Gets the Apple SDK version to use.\n                    // @since 5.6.0\n                    // @return int\n                    key: \"get_sdk_version\",\n                    value: function get_sdk_version() {\n                        return 2;\n                    }\n                },\n                {\n                    key: \"on_validate_merchant\",\n                    value: function on_validate_merchant(event) {\n                        var _this = this;\n                        return this.validate_merchant(event.validationURL).then(function(merchant_session) {\n                            merchant_session = JSON.parse(merchant_session);\n                            return _this.session.completeMerchantValidation(merchant_session);\n                        }, function(response) {\n                            _this.session.abort();\n                            return _this.fail_payment('Merchant could no be validated. ' + response.message);\n                        });\n                    }\n                },\n                {\n                    key: \"validate_merchant\",\n                    value: function validate_merchant(url) {\n                        var _this = this;\n                        return new Promise(function(resolve, reject) {\n                            var data;\n                            data = {\n                                'action': \"wc_\".concat(_this.gateway_id, \"_apple_pay_validate_merchant\"),\n                                'nonce': _this.validate_nonce,\n                                'merchant_id': _this.merchant_id,\n                                'url': url\n                            };\n                            // retrieve a payment request object\n                            return $.post(_this.ajax_url, data, function(response) {\n                                if (response.success) return resolve(response.data);\n                                else return reject(response.data);\n                            });\n                        });\n                    }\n                },\n                {\n                    key: \"on_payment_method_selected\",\n                    value: function on_payment_method_selected(event) {\n                        var _this = this;\n                        return new Promise(function(resolve, reject) {\n                            var data;\n                            data = {\n                                'action': \"wc_\".concat(_this.gateway_id, \"_apple_pay_recalculate_totals\"),\n                                'nonce': _this.recalculate_totals_nonce\n                            };\n                            // retrieve a payment request object\n                            return $.post(_this.ajax_url, data, function(response) {\n                                if (response.success) {\n                                    data = response.data;\n                                    return resolve(_this.session.completePaymentMethodSelection(data.total, data.line_items));\n                                } else {\n                                    console.error('[Apple Pay] Error selecting a shipping contact. ' + response.data.message);\n                                    return reject(_this.session.completePaymentMethodSelection(_this.payment_request.total, _this.payment_request.lineItems));\n                                }\n                            });\n                        });\n                    }\n                },\n                {\n                    key: \"on_shipping_contact_selected\",\n                    value: function on_shipping_contact_selected(event) {\n                        var _this = this;\n                        return new Promise(function(resolve, reject) {\n                            var data;\n                            data = {\n                                'action': \"wc_\".concat(_this.gateway_id, \"_apple_pay_recalculate_totals\"),\n                                'nonce': _this.recalculate_totals_nonce,\n                                'contact': event.shippingContact\n                            };\n                            // retrieve a payment request object\n                            return $.post(_this.ajax_url, data, function(response) {\n                                if (response.success) {\n                                    data = response.data;\n                                    return resolve(_this.session.completeShippingContactSelection(ApplePaySession.STATUS_SUCCESS, data.shipping_methods, data.total, data.line_items));\n                                } else {\n                                    console.error('[Apple Pay] Error selecting a shipping contact. ' + response.data.message);\n                                    return reject(_this.session.completeShippingContactSelection(ApplePaySession.STATUS_FAILURE, [], _this.payment_request.total, _this.payment_request.lineItems));\n                                }\n                            });\n                        });\n                    }\n                },\n                {\n                    key: \"on_shipping_method_selected\",\n                    value: function on_shipping_method_selected(event) {\n                        var _this = this;\n                        return new Promise(function(resolve, reject) {\n                            var data;\n                            data = {\n                                'action': \"wc_\".concat(_this.gateway_id, \"_apple_pay_recalculate_totals\"),\n                                'nonce': _this.recalculate_totals_nonce,\n                                'method': event.shippingMethod.identifier\n                            };\n                            // retrieve a payment request object\n                            return $.post(_this.ajax_url, data, function(response) {\n                                if (response.success) {\n                                    data = response.data;\n                                    return resolve(_this.session.completeShippingMethodSelection(ApplePaySession.STATUS_SUCCESS, data.total, data.line_items));\n                                } else {\n                                    console.error('[Apple Pay] Error selecting a shipping method. ' + response.data.message);\n                                    return reject(_this.session.completeShippingMethodSelection(ApplePaySession.STATUS_FAILURE, _this.payment_request.total, _this.payment_request.lineItems));\n                                }\n                            });\n                        });\n                    }\n                },\n                {\n                    key: \"on_payment_authorized\",\n                    value: function on_payment_authorized(event) {\n                        var _this = this;\n                        return this.process_authorization(event.payment).then(function(response) {\n                            _this.set_payment_status(true);\n                            return _this.complete_purchase(response);\n                        }, function(response) {\n                            _this.set_payment_status(false);\n                            return _this.fail_payment('Payment could no be processed. ' + response.message);\n                        });\n                    }\n                },\n                {\n                    key: \"process_authorization\",\n                    value: function process_authorization(payment) {\n                        var _this = this;\n                        return new Promise(function(resolve, reject) {\n                            var data;\n                            data = {\n                                action: \"wc_\".concat(_this.gateway_id, \"_apple_pay_process_payment\"),\n                                nonce: _this.process_nonce,\n                                payment: JSON.stringify(payment)\n                            };\n                            return $.post(_this.ajax_url, data, function(response) {\n                                if (response.success) return resolve(response.data);\n                                else return reject(response.data);\n                            });\n                        });\n                    }\n                },\n                {\n                    key: \"on_cancel_payment\",\n                    value: function on_cancel_payment(event) {\n                        return this.unblock_ui();\n                    }\n                },\n                {\n                    // Completes the purchase based on the gateway result.\n                    // @since 4.7.0\n                    key: \"complete_purchase\",\n                    value: function complete_purchase(response) {\n                        return window.location = response.redirect;\n                    }\n                },\n                {\n                    // Fails the purchase based on the gateway result.\n                    // @since 4.7.0\n                    key: \"fail_payment\",\n                    value: function fail_payment(error) {\n                        console.error('[Apple Pay] ' + error);\n                        this.unblock_ui();\n                        return this.render_errors([\n                            this.generic_error\n                        ]);\n                    }\n                },\n                {\n                    // Sets the Apple Pay payment status depending on the gateway result.\n                    // @since 4.7.0\n                    key: \"set_payment_status\",\n                    value: function set_payment_status(success) {\n                        var status;\n                        if (success) status = ApplePaySession.STATUS_SUCCESS;\n                        else status = ApplePaySession.STATUS_FAILURE;\n                        return this.session.completePayment(status);\n                    }\n                },\n                {\n                    key: \"reset_payment_request\",\n                    value: function reset_payment_request() {\n                        var _this = this;\n                        var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n                        this.block_ui();\n                        return this.get_payment_request(data).then(function(response) {\n                            $(_this.button).show();\n                            $(_this.wrapper).show();\n                            _this.payment_request = JSON.parse(response);\n                            return _this.unblock_ui();\n                        }, function(response) {\n                            console.error('[Apple Pay] Could not build payment request. ' + response.message);\n                            $(_this.button).hide();\n                            // hide the wrapper if Apple Pay is the only button\n                            if ($(_this.container).children().length === 1) $(_this.wrapper).hide();\n                            return _this.unblock_ui();\n                        });\n                    }\n                },\n                {\n                    key: \"get_payment_request\",\n                    value: function get_payment_request(data) {\n                        var _this = this;\n                        return new Promise(function(resolve, reject) {\n                            var base_data;\n                            base_data = {\n                                'action': \"wc_\".concat(_this.gateway_id, \"_apple_pay_get_payment_request\")\n                            };\n                            $.extend(data, base_data);\n                            // retrieve a payment request object\n                            return $.post(_this.ajax_url, data, function(response) {\n                                if (response.success) return resolve(response.data);\n                                else return reject(response.data);\n                            });\n                        });\n                    }\n                },\n                {\n                    // Renders any new errors and bring them into the viewport.\n                    // @since 4.7.0\n                    key: \"render_errors\",\n                    value: function render_errors(errors) {\n                        // hide and remove any previous errors\n                        $('.woocommerce-error, .woocommerce-message').remove();\n                        // add errors\n                        this.ui_element.prepend('<ul class=\"woocommerce-error\"><li>' + errors.join('</li><li>') + '</li></ul>');\n                        // unblock UI\n                        this.ui_element.removeClass('processing').unblock();\n                        // scroll to top\n                        return $('html, body').animate({\n                            scrollTop: this.ui_element.offset().top - 100\n                        }, 1000);\n                    }\n                },\n                {\n                    // Blocks the payment form UI.\n                    // @since 4.7.0\n                    key: \"block_ui\",\n                    value: function block_ui() {\n                        return this.ui_element.block({\n                            message: null,\n                            overlayCSS: {\n                                background: '#fff',\n                                opacity: 0.6\n                            }\n                        });\n                    }\n                },\n                {\n                    // Unblocks the payment form UI.\n                    // @since 4.7.0\n                    key: \"unblock_ui\",\n                    value: function unblock_ui() {\n                        return this.ui_element.unblock();\n                    }\n                }\n            ]);\n            return SV_WC_Apple_Pay_Handler_v5_15_9;\n        }();\n        // dispatch loaded event\n        return $(document.body).trigger('sv_wc_apple_pay_handler_v5_15_9_loaded');\n    });\n}).call(undefined);\n\n\n//# sourceMappingURL=sv-wc-payment-gateway-apple-pay.js.map\n","function _class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _class_call_check as _ };\n","function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n\n        if (\"value\" in descriptor) descriptor.writable = true;\n\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n\n    return Constructor;\n}\nexport { _create_class as _ };\n","###\n WooCommerce Apple Pay Handler\n Version 4.7.0\n\n Copyright (c) 2016, SkyVerge, Inc.\n Licensed under the GNU General Public License v3.0\n http://www.gnu.org/licenses/gpl-3.0.html\n###\n\njQuery ( $ ) ->\n\n\t\"use strict\"\n\n\t# The WooCommerce Apple Pay handler base class.\n\t#\n\t# @since 4.7.0\n\tclass window.SV_WC_Apple_Pay_Handler_v5_15_9\n\n\n\t\t# Constructs the handler.\n\t\t#\n\t\t# @since 4.7.0\n\t\tconstructor: (args) ->\n\n\t\t\t@gateway_id               = args.gateway_id\n\t\t\t@gateway_slug             = args.gateway_slug\n\t\t\t@merchant_id              = args.merchant_id\n\t\t\t@ajax_url                 = args.ajax_url\n\t\t\t@validate_nonce           = args.validate_nonce\n\t\t\t@recalculate_totals_nonce = args.recalculate_totals_nonce\n\t\t\t@process_nonce            = args.process_nonce\n\t\t\t@payment_request          = args.payment_request\n\t\t\t@generic_error            = args.generic_error\n\n\t\t\t@wrapper   = '.sv-wc-external-checkout'\n\t\t\t@container = '.buttons-container'\n\t\t\t@button    = '.sv-wc-apple-pay-button'\n\n\n\t\t# Determines if Apple Pay is available.\n\t\t#\n\t\t# @since 4.7.0\n\t\t# @return bool\n\t\tis_available: ->\n\n\t\t\treturn false unless window.ApplePaySession\n\n\t\t\tApplePaySession.canMakePaymentsWithActiveCard( @merchant_id ).then ( canMakePayments ) =>\n\n\t\t\t\treturn canMakePayments\n\n\n\t\t# Initializes the handler.\n\t\t#\n\t\t# @since 4.7.0\n\t\tinit: ->\n\n\t\t\t# hide the wrapper if Apple Pay is the only button\n\t\t\tif $( @container ).children().length is 1\n\t\t\t\t$( @wrapper ).hide()\n\n\t\t\treturn unless this.is_available()\n\n\t\t\t# initialize for the various pages\n\t\t\tif $( 'form.cart' ).length\n\t\t\t\tthis.init_product_page()\n\t\t\telse if $( 'form.woocommerce-cart-form' ).length\n\t\t\t\tthis.init_cart_page()\n\t\t\telse if $( 'form.woocommerce-checkout' ).length\n\t\t\t\tthis.init_checkout_page()\n\n\t\t\t# bail if no UI was initialized\n\t\t\treturn unless @ui_element\n\n\t\t\tif @payment_request\n\t\t\t\t$( @button ).show()\n\t\t\t\t$( @wrapper ).show()\n\n\t\t\t$( document.body ).on 'click', '.sv-wc-apple-pay-button', ( e ) =>\n\n\t\t\t\te.preventDefault()\n\n\t\t\t\tthis.block_ui()\n\n\t\t\t\ttry\n\n\t\t\t\t\t@session = this.get_new_session( @payment_request )\n\n\t\t\t\t\t# set the payment card events\n\t\t\t\t\t@session.onvalidatemerchant        = ( event ) => this.on_validate_merchant( event )\n\t\t\t\t\t@session.onpaymentmethodselected   = ( event ) => this.on_payment_method_selected( event )\n\t\t\t\t\t@session.onshippingcontactselected = ( event ) => this.on_shipping_contact_selected( event )\n\t\t\t\t\t@session.onshippingmethodselected  = ( event ) => this.on_shipping_method_selected( event )\n\t\t\t\t\t@session.onpaymentauthorized       = ( event ) => this.on_payment_authorized( event )\n\t\t\t\t\t@session.oncancel                  = ( event ) => this.on_cancel_payment( event )\n\n\t\t\t\t\t@session.begin()\n\n\t\t\t\tcatch error\n\n\t\t\t\t\tthis.fail_payment( error )\n\n\n\t\t# Initializes the product page.\n\t\t#\n\t\t# @since 5.6.0\n\t\tinit_product_page: =>\n\n\t\t\t@ui_element = $( 'form.cart' )\n\n\n\t\t# Initializes the cart page.\n\t\t#\n\t\t# @since 5.6.0\n\t\tinit_cart_page: =>\n\n\t\t\t@ui_element = $( 'form.woocommerce-cart-form' ).parents( 'div.woocommerce' )\n\n\t\t\t# re-init if the cart totals are updated\n\t\t\t$( document.body ).on 'updated_cart_totals', =>\n\n\t\t\t\tthis.reset_payment_request()\n\n\n\t\t# Initializes the checkout page.\n\t\t#\n\t\t# @since 5.6.0\n\t\tinit_checkout_page: =>\n\n\t\t\t@ui_element = $( 'form.woocommerce-checkout' )\n\n\t\t\t$( document.body ).on 'updated_checkout', =>\n\n\t\t\t\t# re-init if the checkout is updated\n\t\t\t\tthis.reset_payment_request()\n\n\n\t\t# Gets a new Apple Pay session.\n\t\t#\n\t\t# @since 5.6.0\n\t\t#\n\t\t# @param [Object] payment_request payment request object\n\t\t# @return ApplePaySession\n\t\tget_new_session: ( payment_request ) ->\n\n\t\t\treturn new ApplePaySession( this.get_sdk_version(), payment_request )\n\n\n\t\t# Gets the Apple SDK version to use.\n\t\t#\n\t\t# @since 5.6.0\n\t\t# @return int\n\t\tget_sdk_version: ->\n\n\t\t\treturn 2\n\n\n\t\t# The callback for after the merchant data is validated.\n\t\t#\n\t\t# @since 4.7.0\n\t\ton_validate_merchant: ( event ) =>\n\n\t\t\tthis.validate_merchant( event.validationURL ).then ( merchant_session ) =>\n\n\t\t\t\tmerchant_session = JSON.parse( merchant_session )\n\n\t\t\t\t@session.completeMerchantValidation( merchant_session )\n\n\t\t\t, ( response ) =>\n\n\t\t\t\t@session.abort()\n\n\t\t\t\tthis.fail_payment 'Merchant could no be validated. ' + response.message\n\n\n\t\t# Validates the merchant data.\n\t\t#\n\t\t# @since 4.7.0\n\t\t# @return object\n\t\tvalidate_merchant: ( url ) => new Promise ( resolve, reject ) =>\n\n\t\t\tdata = {\n\t\t\t\t'action':      \"wc_#{ @gateway_id }_apple_pay_validate_merchant\",\n\t\t\t\t'nonce':       @validate_nonce,\n\t\t\t\t'merchant_id': @merchant_id,\n\t\t\t\t'url':         url\n\t\t\t}\n\n\t\t\t# retrieve a payment request object\n\t\t\t$.post @ajax_url, data, ( response ) =>\n\n\t\t\t\tif response.success\n\t\t\t\t\tresolve response.data\n\t\t\t\telse\n\t\t\t\t\treject response.data\n\n\n\t\t# Fires after a payment method has been selected.\n\t\t#\n\t\t# @since 4.7.0\n\t\ton_payment_method_selected: ( event ) =>\n\n\t\t\tnew Promise ( resolve, reject ) =>\n\n\t\t\t\tdata = {\n\t\t\t\t\t'action': \"wc_#{ @gateway_id }_apple_pay_recalculate_totals\",\n\t\t\t\t\t'nonce':  @recalculate_totals_nonce,\n\t\t\t\t}\n\n\t\t\t\t# retrieve a payment request object\n\t\t\t\t$.post @ajax_url, data, ( response ) =>\n\n\t\t\t\t\tif response.success\n\n\t\t\t\t\t\tdata = response.data\n\n\t\t\t\t\t\tresolve @session.completePaymentMethodSelection( data.total, data.line_items )\n\n\t\t\t\t\telse\n\n\t\t\t\t\t\tconsole.error '[Apple Pay] Error selecting a shipping contact. ' + response.data.message\n\n\t\t\t\t\t\treject @session.completePaymentMethodSelection( @payment_request.total, @payment_request.lineItems )\n\n\n\t\t# Fires after a shipping contact has been selected.\n\t\t#\n\t\t# @since 4.7.0\n\t\ton_shipping_contact_selected: ( event ) =>\n\n\t\t\tnew Promise ( resolve, reject ) =>\n\n\t\t\t\tdata = {\n\t\t\t\t\t'action':  \"wc_#{ @gateway_id }_apple_pay_recalculate_totals\",\n\t\t\t\t\t'nonce':   @recalculate_totals_nonce,\n\t\t\t\t\t'contact': event.shippingContact\n\t\t\t\t}\n\n\t\t\t\t# retrieve a payment request object\n\t\t\t\t$.post @ajax_url, data, ( response ) =>\n\n\t\t\t\t\tif response.success\n\n\t\t\t\t\t\tdata = response.data\n\n\t\t\t\t\t\tresolve @session.completeShippingContactSelection( ApplePaySession.STATUS_SUCCESS, data.shipping_methods, data.total, data.line_items )\n\n\t\t\t\t\telse\n\n\t\t\t\t\t\tconsole.error '[Apple Pay] Error selecting a shipping contact. ' + response.data.message\n\n\t\t\t\t\t\treject @session.completeShippingContactSelection( ApplePaySession.STATUS_FAILURE, [], @payment_request.total, @payment_request.lineItems )\n\n\n\t\t# Fires after a shipping method has been selected.\n\t\t#\n\t\t# @since 4.7.0\n\t\ton_shipping_method_selected: ( event ) =>\n\n\t\t\tnew Promise ( resolve, reject ) =>\n\n\t\t\t\tdata = {\n\t\t\t\t\t'action': \"wc_#{ @gateway_id }_apple_pay_recalculate_totals\",\n\t\t\t\t\t'nonce':  @recalculate_totals_nonce,\n\t\t\t\t\t'method': event.shippingMethod.identifier\n\t\t\t\t}\n\n\t\t\t\t# retrieve a payment request object\n\t\t\t\t$.post @ajax_url, data, ( response ) =>\n\n\t\t\t\t\tif response.success\n\n\t\t\t\t\t\tdata = response.data\n\n\t\t\t\t\t\tresolve @session.completeShippingMethodSelection( ApplePaySession.STATUS_SUCCESS, data.total, data.line_items )\n\n\t\t\t\t\telse\n\n\t\t\t\t\t\tconsole.error '[Apple Pay] Error selecting a shipping method. ' + response.data.message\n\n\t\t\t\t\t\treject @session.completeShippingMethodSelection( ApplePaySession.STATUS_FAILURE, @payment_request.total, @payment_request.lineItems )\n\n\n\t\t# The callback for after the payment data is authorized.\n\t\t#\n\t\t# @since 4.7.0\n\t\ton_payment_authorized: ( event ) =>\n\n\t\t\tthis.process_authorization( event.payment ).then ( response ) =>\n\n\t\t\t\tthis.set_payment_status( true )\n\n\t\t\t\tthis.complete_purchase( response )\n\n\t\t\t, ( response ) =>\n\n\t\t\t\tthis.set_payment_status( false )\n\n\t\t\t\tthis.fail_payment 'Payment could no be processed. ' + response.message\n\n\n\t\t# Processes the transaction data.\n\t\t#\n\t\t# @since 4.7.0\n\t\tprocess_authorization: ( payment ) => new Promise ( resolve, reject ) =>\n\n\t\t\tdata = {\n\t\t\t\taction:  \"wc_#{ @gateway_id }_apple_pay_process_payment\",\n\t\t\t\tnonce:   @process_nonce,\n\t\t\t\tpayment: JSON.stringify( payment )\n\t\t\t}\n\n\t\t\t$.post @ajax_url, data, ( response ) =>\n\n\t\t\t\tif response.success\n\t\t\t\t\tresolve response.data\n\t\t\t\telse\n\t\t\t\t\treject response.data\n\n\n\t\t# The callback for when the payment card is cancelled/dismissed.\n\t\t#\n\t\t# @since 4.7.0\n\t\ton_cancel_payment: ( event ) =>\n\n\t\t\tthis.unblock_ui()\n\n\n\t\t# Completes the purchase based on the gateway result.\n\t\t#\n\t\t# @since 4.7.0\n\t\tcomplete_purchase: ( response ) ->\n\n\t\t\twindow.location = response.redirect\n\n\n\t\t# Fails the purchase based on the gateway result.\n\t\t#\n\t\t# @since 4.7.0\n\t\tfail_payment: ( error ) ->\n\n\t\t\tconsole.error '[Apple Pay] ' + error\n\n\t\t\tthis.unblock_ui()\n\n\t\t\tthis.render_errors( [ @generic_error ] )\n\n\n\t\t# Sets the Apple Pay payment status depending on the gateway result.\n\t\t#\n\t\t# @since 4.7.0\n\t\tset_payment_status: ( success ) ->\n\n\t\t\tif success\n\t\t\t\tstatus = ApplePaySession.STATUS_SUCCESS\n\t\t\telse\n\t\t\t\tstatus = ApplePaySession.STATUS_FAILURE\n\n\t\t\t@session.completePayment( status )\n\n\n\t\t# Resets the payment request via AJAX.\n\t\t#\n\t\t# Extending handlers can call this on change events to refresh the data.\n\t\t#\n\t\t# @since 4.7.0\n\t\treset_payment_request: ( data = {} ) =>\n\n\t\t\tthis.block_ui()\n\n\t\t\tthis.get_payment_request( data ).then ( response ) =>\n\n\t\t\t\t$( @button ).show()\n\t\t\t\t$( @wrapper ).show()\n\n\t\t\t\t@payment_request = JSON.parse( response )\n\n\t\t\t\tthis.unblock_ui()\n\n\t\t\t, ( response ) =>\n\n\t\t\t\tconsole.error '[Apple Pay] Could not build payment request. ' + response.message\n\n\t\t\t\t$( @button ).hide()\n\t\t\t\t# hide the wrapper if Apple Pay is the only button\n\t\t\t\tif $( @container ).children().length is 1\n\t\t\t\t\t$( @wrapper ).hide()\n\n\t\t\t\tthis.unblock_ui()\n\n\n\t\t# Gets the payment request via AJAX.\n\t\t#\n\t\t# @since 4.7.0\n\t\tget_payment_request: ( data ) => new Promise ( resolve, reject ) =>\n\n\t\t\tbase_data = {\n\t\t\t\t'action': \"wc_#{ @gateway_id }_apple_pay_get_payment_request\"\n\t\t\t}\n\n\t\t\t$.extend data, base_data\n\n\t\t\t# retrieve a payment request object\n\t\t\t$.post @ajax_url, data, ( response ) =>\n\n\t\t\t\tif response.success\n\t\t\t\t\tresolve response.data\n\t\t\t\telse\n\t\t\t\t\treject response.data\n\n\n\t\t# Renders any new errors and bring them into the viewport.\n\t\t#\n\t\t# @since 4.7.0\n\t\trender_errors: ( errors ) ->\n\n\t\t\t# hide and remove any previous errors\n\t\t\t$( '.woocommerce-error, .woocommerce-message' ).remove()\n\n\t\t\t# add errors\n\t\t\t@ui_element.prepend '<ul class=\"woocommerce-error\"><li>' + errors.join( '</li><li>' ) + '</li></ul>'\n\n\t\t\t# unblock UI\n\t\t\t@ui_element.removeClass( 'processing' ).unblock()\n\n\t\t\t# scroll to top\n\t\t\t$( 'html, body' ).animate( { scrollTop: @ui_element.offset().top - 100 }, 1000 )\n\n\n\t\t# Blocks the payment form UI.\n\t\t#\n\t\t# @since 4.7.0\n\t\tblock_ui: -> @ui_element.block( message: null, overlayCSS: background: '#fff', opacity: 0.6 )\n\n\n\t\t# Unblocks the payment form UI.\n\t\t#\n\t\t# @since 4.7.0\n\t\tunblock_ui: -> @ui_element.unblock()\n\n\n\t# dispatch loaded event\n\t$( document.body ).trigger( 'sv_wc_apple_pay_handler_v5_15_9_loaded' )\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$c0249d4a3fc9bb83$export$71511d61b312f219","instance","Constructor","TypeError","$690246f0b6925227$var$_defineProperties","target","props","i","length","descriptor","writable","key","$690246f0b6925227$export$71511d61b312f219","protoProps","staticProps","prototype","$guLUH","$90XvN","jQuery","$","SV_WC_Apple_Pay_Handler_v5_15_9","args","_","init_product_page","bind","init_cart_page","init_checkout_page","on_validate_merchant","validate_merchant","on_payment_method_selected","on_shipping_contact_selected","on_shipping_method_selected","on_payment_authorized","process_authorization","on_cancel_payment","reset_payment_request","get_payment_request","gateway_id","gateway_slug","merchant_id","ajax_url","validate_nonce","recalculate_totals_nonce","process_nonce","payment_request","generic_error","wrapper","container","button","value","ApplePaySession","canMakePaymentsWithActiveCard","then","canMakePayments","_this","children","hide","is_available","ui_element","show","document","body","on","preventDefault","block_ui","session","get_new_session","onvalidatemerchant","event","onpaymentmethodselected","onshippingcontactselected","onshippingmethodselected","onpaymentauthorized","oncancel","begin","error1","fail_payment","parents","get_sdk_version","validationURL","merchant_session","JSON","parse","completeMerchantValidation","response","abort","message","url","Promise","resolve","reject","data","concat","post","success","completePaymentMethodSelection","total","line_items","console","error","lineItems","shippingContact","completeShippingContactSelection","STATUS_SUCCESS","shipping_methods","STATUS_FAILURE","shippingMethod","identifier","completeShippingMethodSelection","payment","set_payment_status","complete_purchase","action","nonce","stringify","unblock_ui","location","redirect","render_errors","status","completePayment","arguments","base_data","extend","errors","remove","prepend","join","removeClass","unblock","animate","scrollTop","offset","top","block","overlayCSS","background","opacity","trigger","undefined"],"version":3,"file":"sv-wc-payment-gateway-apple-pay.js.map","sourceRoot":"../../../../../"}